// ì˜µì…”ë„, ì œë„¤ë¦­ ê¸°ë³¸

// ğŸ“Œ ì˜µì…”ë„ ( ? )
// (?) : ìˆì–´ë„ ë˜ê³  ì—†ì–´ë„ ë¨
function abc_15(a: number, b?: number, c?: number) {}
abc_15(1);
abc_15(1, 2);
abc_15(1, 2, 3);
abc_15(1, 2, 3, 4); // ğŸš¨ 1-3ê°œì˜ ì¸ìˆ˜ê°€ í•„ìš”í•œë° 4ê°œë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.

// ğŸ“Œ ì „ë¶€ ë‹¤ ë°›ê³  ì‹¶ìœ¼ë©´ â€¦ ì´ìš©
function abc_15_2(...args: number[]) {
  console.log(args);
}
abc_15_2(1, 2, 3, 4);

// b ì†ì„± ì—†ì–´ë„ ì—ëŸ¬ ì•ˆëƒ„
let obj: { a: string; b?: string } = { a: 'hello' };

// ğŸ“Œ ì œë„¤ë¦­
// ì œë„¤ë¦­ì´ ì™œ í•„ìš”í•œì§€ ë¶€í„° ë³´ì
function add_15(x: string | number, y: string | number): string | number {
  return x + y;
}
add_15(1, 2); // 3
add_15('1', '2'); // '12'
// ìœ„ì— 2ê°œëŠ” ë˜ê²Œí•˜ê³ 
// ì•„ë˜ 2ê°œëŠ” ì•ˆë˜ê²Œí•˜ê³  ì‹¶ë‹¤ë©´?
add_15(1, '2'); // '12'
add_15('1', 2); // '12'

// ğŸ“Œ í•¨ìˆ˜ë¥¼ ë‘˜ë¡œ ë‚˜ëˆ ë³¼ê¹Œ?
// ì—ëŸ¬ ë‚œë‹¤. ê°™ì€ í•¨ìˆ˜ add_15_2 ë¥¼ 2ê°œ ì„ ì–¸í–ˆê¸° ë•Œë¬¸ì—
function add_15_2(x: string, y: string): string {
  return x + y;
}
function add_15_2(x: number, y: number): number {
  return x + y;
}

// ğŸ“Œ ê·¸ë ‡ë‹¤ë©´ ë°”ë””ë¥¼ ì—†ì• ë©´?
// ê²°êµ­ ì²˜ìŒì— ì¼ë˜ ë°©ë²•ìœ¼ë¡œ ëŒì•„ì˜´
// ë”œë ˆë§ˆì— ë¹ ì§..
function add_15_3(x: string, y: string): string;
function add_15_3(x: number, y: number): number;
function add_15_3(x: string | number, y: string | number): string | number {
  return x + y;
}

// ğŸ“Œ ê·¸ë˜ì„œ ì œë„¤ë¦­ì´ ë‚˜ì˜´
// ì œë„¤ë¦­ : íƒ€ì…ì„ ë³€ìˆ˜ì²˜ëŸ¼ ë§Œë“œëŠ” ê²ƒ
// ë§Œë“¤ë•ŒëŠ” ë¬´ìŠ¨ íƒ€ì…ì¸ì§€ëŠ” ëª¨ë¥´ê² ëŠ”ë° ì‹¤ì œ ì‚¬ìš©ì„ í•  ë•Œ ê·¸ ë•Œ íƒ€ì…ì´ ì •í•´ì§€ëŠ” ê²ƒ!
function add_15_4<T>(x: T, y: T): T {
  return x + y;
}

add_15_4(1, 2); // 3
add_15_4('1', '2'); // '12'

add_15_4('1', 2); // ğŸš¨ '2' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” '"1"' í˜•ì‹ì˜ ë§¤ê°œ ë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
add_15_4('2', 1); // ğŸš¨ '1' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” '"2"' í˜•ì‹ì˜ ë§¤ê°œ ë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
// ê°™ì€ íƒ€ì…ì€ í•˜ë‚˜ì˜ ë¬¸ì(T)ë¡œ í‘œí˜„!

// Tê°€ ì–´ë–¤ íƒ€ì…ì´ë“  ë‹¤ ë  ìˆ˜ ìˆë‹¤ê³  í–ˆëŠ”ë°,
// ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ë‹¤
// add(true, false) ì´ëŸ°ê²ƒë„ ë˜ë²„ë¦¬ëŠ” ë¬¸ì œê°€ ìˆë‹¤.
function add_15_5<T>(x: T, y: T): T {
  return x + y;
}

add_15_5(1, 2); // 3
add_15_5('1', '2'); // '12'

add_15_5(true, false); // ğŸ’© ì•ˆë˜ê²Œ í•˜ê³  ì‹¶ì€ë° ë˜ë²„ë¦¼;;
add_15_5('1', 2); // ğŸš¨ '2' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” '"1"' í˜•ì‹ì˜ ë§¤ê°œ ë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
add_15_5('2', 1); // ğŸš¨ '1' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” '"2"' í˜•ì‹ì˜ ë§¤ê°œ ë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

// ğŸ“Œ ì´ëŸ´ë•ŒëŠ” Tì—ë‹¤ê°€ ì œí•œì„ ë‘˜ ìˆ˜ ìˆë‹¤.
function add_15_6<T extends string | number>(x: T, y: T): T {
  return x + y;
}

add_15_6(1, 2); // ğŸš¨
add_15_6('1', '2'); // '12'

add_15_6(true, false); // ğŸš¨ 'boolean' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” 'string | number' í˜•ì‹ì˜ ë§¤ê°œ ë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
add_15_6('1', 2); // ğŸš¨ '2' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” '"1"' í˜•ì‹ì˜ ë§¤ê°œ ë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
add_15_6('2', 1); // ğŸš¨ '1' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” '"2"' í˜•ì‹ì˜ ë§¤ê°œ ë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

// ğŸ“Œ ì œë„¤ë¦­ì„ ì—¬ëŸ¬ê°œ ë™ì‹œì— ë§Œë“¤ë©´ì„œ ê°ê° ë‹¤ë¥¸ ì œí•œ ë‘ê¸°
function add_15_7<T extends number, K extends string>(x: T, y: K): T {
  return x + y;
}

add_15_7(1, 2); // ğŸš¨
add_15_7('1', '2'); // ğŸš¨

add_15_7(true, false); // ğŸš¨
add_15_7('1', 2); // ğŸš¨
add_15_7('2', 1); // ğŸš¨
add_15_7(1, '2'); // â­•ï¸

function add_15_8<T extends string | number>(x: T): T {
  return x;
}

add_15_8('1');
add_15_8(1);
// string, number, string | number
// Tì—ëŠ” string | numberì˜ ë¶€ë¶„ì§‘í•©ë“¤ë§Œ ì˜¬ ìˆ˜ ìˆë‹¤.
// â†’ string, number, string | number

// ğŸ“Œ ê°ì¢… ì œí•œ ë°©ë²•

// - ê°ì²´
function add_15_9<T extends { a: string }>(x: T): T {
  return x;
}

add_15_9({ a: 'hello' });

// - ë°°ì—´
function add_15_10<T extends string[]>(x: T): T {
  return x;
}

add_15_10(['1', '2', '3']);

// - ì½œë°±í•¨ìˆ˜ í˜•íƒœ ì œí•œ
function add_15_11<T extends (a: string) => number>(x: T): T {
  return x;
}

add_15_11((a) => +a);

// ëª¨ë“  í•¨ìˆ˜ ë‹¤ ê°€ëŠ¥í•˜ê²Œ í•˜ê³  ì‹¶ë‹¤ë©´
// ì´ëŸ´ë•ŒëŠ” any ì¨ë„ ëœë‹¤.
// ì œí•œì„ ê±°ëŠ”ê±°ê¸° ë•Œë¬¸ì—
function add_15_12<T extends (...args: any) => any>(x: T): T {
  return x;
}

// ğŸ“Œ ìƒì„±ìë§Œ ê°€ëŠ¥í•˜ê²Œ
function add_15_13<T extends abstract new (...args: any) => any>(x: T): T {
  return x;
}

class A_15_13 {
  constructor() {}
}
add_15_13(A_15_13);
add_15_13(new A_15_13()); // ğŸš¨ ì—ëŸ¬ 'A_15_13' í˜•ì‹ì—ì„œ 'new (...args: any): any' ì‹œê·¸ë‹ˆì²˜ì— ëŒ€í•œ ì¼ì¹˜í•˜ëŠ” í•­ëª©ì„ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

// ğŸ“Œ constructor íƒ€ì´í•‘
function add_15_14<T extends abstract new (...args: any) => any>(x: T): T {
  return x;
}

interface Aa_15_14 {
  constructor(): void;
}
class A_15_14 implements Aa_15_14 {
  constructor() {}
}

add_15_14(A_15_14);

// ğŸ“Œ constructor íƒ€ì´í•‘ 2
class Person {
  private name: string;
  private age: number;

  constructor(name: string, age: number) {
    this.name = name;
    this.age = age;
  }

  getInfo(): string {
    return `Name: ${this.name}, Age: ${this.age}`;
  }
}

const john = new Person('John Doe', 30);
console.log(john.getInfo()); // ì¶œë ¥: Name: John Doe, Age: 30

// ğŸ“Œ ì°¸ê³ 
// ìƒì„±ì(constructor)ëŠ” ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ í´ë˜ìŠ¤ë¡œë¶€í„° ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ ìƒì„±í•  ë•Œ í˜¸ì¶œë˜ëŠ” íŠ¹ë³„í•œ ë©”ì„œë“œì…ë‹ˆë‹¤. ìƒì„±ìëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ë§Œë“¤ì–´ì§ˆ ë•Œ ì´ˆê¸°í™” ì‘ì—…ì„ ìˆ˜í–‰í•˜ê±°ë‚˜ í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ í• ë‹¹í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
// ì£¼ìš” íŠ¹ì§•ê³¼ ì˜ë¯¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
// ì´ë¦„ì´ í´ë˜ìŠ¤ì™€ ë™ì¼: ìƒì„±ì ë©”ì„œë“œì˜ ì´ë¦„ì€ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì´ë¦„ê³¼ ë™ì¼í•©ë‹ˆë‹¤.
// ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”: ìƒì„±ìëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ë§Œë“¤ì–´ì§ˆ ë•Œ ì‹¤í–‰ë˜ë©°, ì´ ì‹œì ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•˜ê±°ë‚˜ ì´ˆê¸°ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// ì¸ìˆ˜ ì „ë‹¬: ìƒì„±ìëŠ” í•„ìš”ì— ë”°ë¼ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ë“¤ì¼ ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ìƒì„±ìê°€ í˜¸ì¶œë  ë•Œ ì¸ìŠ¤í„´ìŠ¤ì— ì´ˆê¸° ë°ì´í„°ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒì€ TypeScriptì—ì„œ í´ë˜ìŠ¤ì™€ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œì…ë‹ˆë‹¤:

class Person_15 {
  private name: string;

  constructor(name: string) {
    this.name = name;
  }

  introduce() {
    console.log(`Hello, my name is ${this.name}.`);
  }
}

const john_15 = new Person_15('John');
john_15.introduce(); // ì¶œë ¥: Hello, my name is John.
// ìœ„ì˜ ì˜ˆì œì—ì„œ Person í´ë˜ìŠ¤ì—ëŠ” constructorë¼ëŠ” ìƒì„±ì ë©”ì„œë“œê°€ ìˆìœ¼ë©°, ì´ ìƒì„±ìëŠ” name ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ì„œ name ë©¤ë²„ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. new Person('John')ì„ í˜¸ì¶œí•˜ë©´ Person í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  nameì´ 'John'ìœ¼ë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. ì´í›„ introduce ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ 'Hello, my name is John.'ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
